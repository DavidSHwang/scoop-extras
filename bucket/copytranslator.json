{
    "version": "9.0.0",
    "description": "Foreign language assisted reader and translator",
    "homepage": "https://github.com/copytranslator/copytranslator",
    "license": "GPL-2.0-only",
    "architecture": {
        "64bit": {
            "url": "https://github.com/CopyTranslator/CopyTranslator/releases/download/v9.0.0/copytranslator-setup-9.0.0.exe#/dl.7z",
            "hash": "sha512:d8e6f38027ede2692b3ff2242d970923c8c468ac07bc231bcf169d6e18b947d1edb778d4256a0f64ebfed97d8500e70799d453e94c58e8176ec43228cf0dc15a",
            "installer": {
                "script": "Expand-7zipArchive \"$dir\\`$PLUGINSDIR\\app-64.7z\" \"$dir\""
            }
        }
    },
    "post_install": [
        "Remove-Item \"$dir\\`$PLUGINSDIR\", \"$dir\\Uninstall*\" -Recurse",
        "if ((Get-WinSystemLocale)[0].ToString().SubString(0,2) -ne \"zh\") {",
        "    Start-Process $dir\\copytranslator.exe",
        "    Start-Sleep 2",
        "    Get-Process -Name copytranslator | Stop-Process",
        "    $configPath = \"~\\copytranslator\\copytranslator.json\"",
        "    $config = Get-Content $configPath | ConvertFrom-Json",
        "    $config.localeSetting = \"en\"",
        "    ConvertTo-Json $config | Set-Content $configPath",
        "}"
    ],
    "shortcuts": [
        [
            "copytranslator.exe",
            "Copy Translator"
        ]
    ],
    "checkver": "github",
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://github.com/CopyTranslator/CopyTranslator/releases/download/v$version/copytranslator-setup-$version.exe#/dl.7z",
                "hash": {
                    "url": "$baseurl/latest.yml",
                    "regex": "sha512:\\s+$base64"
                }
            }
        }
    }
}
